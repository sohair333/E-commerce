<div class="login container">
  <div class="login-form">
    <form [formGroup]="loginForm">
      <div class="d-flex justify-content-between gap-2 align-items-center row">
        <!-- <mat-form-field class="example-full-width position-relative pe-2 w-25">
            <mat-label class="pt-3 ms-3">{{'PLACEHOLDERS.Code' | translate}}</mat-label>
            <mat-select formControlName="phoneCode" [placeholder]="'PLACEHOLDERS.Code' | translate" (selectionChange)="checkCode()"  panelClass="myPanelClass">
              <mat-option value="+2">+2</mat-option>
              <mat-option value="+966">+966</mat-option>
            </mat-select>
            <small
            class="text-danger position-absolute bottom-0 top-100  mt-3 mb-3" style="left: 0;"
            *ngIf="
              submitted &&
              loginForm.get('phoneCode')?.hasError('required')
            "
          >
           {{'MESSAGES.required' | translate}}</small>
          </mat-form-field> -->
        <div class="dropDown">
          <p-dropdown
            [options]="countries"
            formControlName="phoneCode"
            optionLabel="name"
            [showClear]="false"
            [placeholder]="'Profile.Select_a_Country' | translate"
            class="my-3 w-75 me-5"
          >
            <ng-template pTemplate="selectedItem">
              <div class="country-item country-item-value">
                <div>
                  {{ loginForm.get("phoneCode")?.value.name }}
                  <img
                    width="20"
                    height="20"
                    class="ms-2"
                    [src]="loginForm.get('phoneCode')?.value.img"
                  />
                </div>
              </div>
            </ng-template>
            <ng-template let-country pTemplate="item">
              <div class="country-item">
                <div class="d-flex align-items-center justify-content-between">
                  {{ country.name }}
                  <img
                    width="20"
                    height="20"
                    class="mx-3"
                    [src]="country.img"
                    alt=""
                  />
                </div>
              </div>
            </ng-template>
          </p-dropdown>
        </div>
        <input
          class="col-md-8"
          [placeholder]="'PLACEHOLDERS.phoneNumber' | translate"
          formControlName="phoneNumber"
          pInputText
        />
      </div>
      <div class="d-block">
        <small
          class="text-danger float-end me-5 pe-5 mb-3"
          style="margin-left: -2rem"
          *ngIf="submitted && loginForm.get('phoneNumber')?.errors?.['required']"
        >
          {{ "MESSAGES.PHONE_NUMBER" | translate }}</small
        >

        <small
          *ngIf="submitted && loginForm.get('phoneNumber')?.errors?.['pattern']"
          class="text-danger me-5 float-end pe-5 mb-3"
          style="margin-left: -2rem"
        >
          {{ "MESSAGES.PHONE_NUMBER2" | translate }}</small
        >
      </div>
      <div class="my-2 position-relative w-100">
        <input
          [type]="!showPassword ? 'password' : 'text'"
          class="w-100"
          [placeholder]="'PLACEHOLDERS.Password' | translate"
          formControlName="password"
          pInputText
        />
        <button
          *ngIf="!showPassword"
          class="btn-eye"
          type="button"
          (click)="checkPassword()"
        >
          <i *ngIf="!showPassword" class="fa-regular fa-eye-slash"></i>
        </button>
        <button
          *ngIf="showPassword"
          class="btn-eye"
          type="button"
          (click)="checkPassword()"
        >
          <i *ngIf="showPassword" class="fa-regular fa-eye"></i>
        </button>
      </div>
      <small
        class="text-danger mt-2 ms-1"
        style="left: 0"
        *ngIf="submitted && loginForm.get('password')?.hasError('required')"
      >
        {{ "MESSAGES.Message_Password" | translate }}</small
      >
      <div class="my-4 text-center">
        <button class="btn-forget" (click)="tab('forget')">
          {{ "HOME.fORGOT_PASSWORD" | translate }}
        </button>
      </div>
      <div class="d-flex justify-content-center align-items-center my-3">
        <button class="btn-form btn" (click)="login()">
          <div *ngIf="Loading == true" class="loader m-auto"></div>
          {{ Loading == false ? "Login" : "" }}
        </button>
      </div>

      <div class="d-flex justify-content-center align-items-center mb-3">
        <div class="text-muted txt-foot me-1">
          {{ "HOME.LOGOUTEXT" | translate }}
        </div>
        <div class="">
          <button (click)="tab('register')" class="btn-create">
            {{ "HOME.CREATE_ACCOUNT" | translate }}
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
